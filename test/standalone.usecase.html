<!DOCTYPE HTML>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <title>test nomnoml</title>
  <link rel="shortcut icon" type="image/png" href="favicon.png">
  <script src="../lib/zepto.min.js"></script>
  <script src="../lib/underscore.js"></script>
  <script src="../lib/underscore.skanaar.js"></script>
  <script src="../lib/dagre.min.js"></script>
  <script src="../lib/skanaar.canvas.js"></script>
  <script src="../lib/vector.js"></script>
  <script src="../nomnoml.jison.js"></script>
  <script src="../nomnoml.parser.js"></script>
  <script src="../nomnoml.layouter.js"></script>
  <script src="../nomnoml.renderer.js"></script>
  <script src="../nomnoml.js"></script>
  <!--<script src="../nomnoml.app.js"></script> we shouldn't need the application if we are standalone -->
</head>
<body>
    <script id="noml" type="text/plain">
        [Pirate|eyeCount: Int|raid();pillage()|
            [beard]--[parrot]
            [beard]-:>[foul mouth]
        ]

        [<abstract>Marauder]<:--[Pirate]
        [Pirate]- 0..7[mischief]
        [jollyness]->[Pirate]
        [jollyness]->[rum]
        [jollyness]->[singing]
        [Pirate]-> *[rum|tastiness: Int|swig()]
        [Pirate]->[singing]
        [singing]<->[rum]

        [<start>st]->[<state>plunder]
        [plunder]->[<choice>more loot]
        [more loot]->[st]
        [more loot] no ->[<end>e]
    </script>
    <canvas id="target-canvas"></canvas>
    <script>
        var canvas = document.getElementById('target-canvas');
        var noml = document.getElementById('noml').innerHTML;
        nomnoml.draw(canvas, noml);
    </script>
</body>
</html>
